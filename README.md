# ğŸ³ Nami Network Monitor

<div align="center">

![Version](https://img.shields.io/badge/version-2.3.0-blue)
![License](https://img.shields.io/badge/license-MIT-green)
![Platform](https://img.shields.io/badge/platform-Linux-orange)

**å¯¦æ™‚ç¶²è·¯æµé‡ç›£æ§å·¥å…· - åœ¨ç€è¦½å™¨ä¸­æŸ¥çœ‹æ‰€æœ‰ç¶²è·¯ä»‹é¢çš„æµé‡**

[åŠŸèƒ½ç‰¹è‰²](#-åŠŸèƒ½ç‰¹è‰²) â€¢ [å¿«é€Ÿé–‹å§‹](#-å¿«é€Ÿé–‹å§‹) â€¢ [ä½¿ç”¨èªªæ˜](#-ä½¿ç”¨èªªæ˜) â€¢ [æŠ€è¡“æ¶æ§‹](#-æŠ€è¡“æ¶æ§‹)

</div>

---

## åŠŸèƒ½ç‰¹è‰²

### ç¶²è·¯ä»‹é¢ç›£æ§
- **å¯¦æ™‚æµé‡åœ–è¡¨** - æ¯ç§’æ›´æ–°çš„ RX/TX é€Ÿåº¦æ›²ç·š
- **å¤šä»‹é¢æ”¯æ´** - Ethernetã€WiFiã€VPNã€Dockerã€Bridge ç­‰
- **è©³ç´°è³‡è¨Š** - IPã€MACã€MTUã€Link Speedã€Duplex

### ç¨‹åºç¶²è·¯ç›£æ§
- **é€£ç·šè¿½è¹¤** - æŸ¥çœ‹æ¯å€‹ç¨‹åºçš„ TCP/UDP é€£ç·šæ•¸
- **Socket è©³æƒ…** - å±•é–‹æŸ¥çœ‹å®Œæ•´é€£ç·šåˆ—è¡¨ï¼ˆæœ¬åœ°/é ç«¯ IP:Portï¼‰
- **æµé‡ç›£æ§** - ä½¿ç”¨ nethogs é¡¯ç¤ºæ¯ç¨‹åºçš„å³æ™‚ KB/sï¼ˆéœ€ rootï¼‰

### ä½¿ç”¨è€…é«”é©—
- **å¯èª¿åƒæ•¸** - è‡ªè¨‚æ›´æ–°é »ç‡ã€åœ–è¡¨é•·åº¦ã€ä»‹é¢éæ¿¾
- **æš—è‰²ä¸»é¡Œ** - ç¾ä»£åŒ– UIï¼Œé«˜å°æ¯”åº¦è¨­è¨ˆ
- **è¨­å®šæŒä¹…åŒ–** - è‡ªå‹•å„²å­˜åˆ° localStorage

---

## å¿«é€Ÿé–‹å§‹

### ç³»çµ±éœ€æ±‚

- **OS**: Linux (ä½¿ç”¨ `/proc` æª”æ¡ˆç³»çµ±)
- **Runtime**: [Bun](https://bun.sh) v1.0+
- **Optional**: nethogs (ç”¨æ–¼ per-process æµé‡ç›£æ§)

### å®‰è£

```bash
# Clone å°ˆæ¡ˆ
git clone https://github.com/956zs/Nami.git
cd nami

# å®‰è£ä¾è³´
bun install

# å®‰è£ nethogs (å¯é¸ï¼Œç”¨æ–¼æµé‡ç›£æ§)
# Arch Linux
sudo pacman -S nethogs

# Ubuntu/Debian
sudo apt install nethogs
```

### å•Ÿå‹•

```bash
# ä¸€éµå•Ÿå‹• (äº’å‹•å¼é¸å–®)
./start.sh

# æˆ–æ‰‹å‹•å•Ÿå‹•
bun run dev
```

å•Ÿå‹•å¾Œé–‹å•Ÿ **http://localhost:5173**

---

## ä½¿ç”¨èªªæ˜

### å•Ÿå‹•æ¨¡å¼

| æ¨¡å¼ | æŒ‡ä»¤ | åŠŸèƒ½ |
|------|------|------|
| æ™®é€š | `./start.sh` â†’ 1 | ä»‹é¢ç›£æ§ + ç¨‹åºé€£ç·šæ•¸ |
| Root | `./start.sh` â†’ 2 | å…¨éƒ¨åŠŸèƒ½ + **å³æ™‚ KB/s æµé‡** |

### æ¨™ç±¤é èªªæ˜

#### Interfaces (ä»‹é¢)
- å·¦å´ï¼šç¶²è·¯ä»‹é¢åˆ—è¡¨ï¼ŒæŒ‰é¡å‹åˆ†é¡
- å³å´ï¼šé¸ä¸­ä»‹é¢çš„å¯¦æ™‚æµé‡åœ–è¡¨
- ä¸‹æ–¹ï¼šTop 5 æµé‡ç¨‹å¼ï¼ˆéœ€ rootï¼‰

#### Processes (ç¨‹åº)
- é¡¯ç¤ºæ‰€æœ‰æœ‰ç¶²è·¯é€£ç·šçš„ç¨‹åº
- é»æ“Šå±•é–‹æŸ¥çœ‹ socket è©³æƒ…
- é¡¯ç¤º TCP/UDP é€£ç·šæ•¸

#### Bandwidth (æµé‡)
- éœ€è¦ä»¥ root å•Ÿå‹•
- é¡¯ç¤ºæ¯å€‹ç¨‹åºçš„å³æ™‚ ä¸‹è¼‰/ä¸Šå‚³ é€Ÿåº¦
- ä½¿ç”¨ nethogs ä½œç‚ºå¾Œç«¯

### è¨­å®šé¸é …

é»æ“Šå³ä¸Šè§’ âš™ï¸ Settingsï¼š

| è¨­å®š | èªªæ˜ | é è¨­å€¼ |
|------|------|--------|
| Update Interval | UI åˆ·æ–°é–“éš” | 1000ms |
| Chart History | åœ–è¡¨è³‡æ–™é»æ•¸ | 60 |
| Show Loopback | é¡¯ç¤º lo ä»‹é¢ | âœ… |
| Show Docker | é¡¯ç¤º Docker ä»‹é¢ | âœ… |

---

## æŠ€è¡“æ¶æ§‹

```
nami/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ server/          # å¾Œç«¯ (Bun + Elysia)
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ index.ts           # ä¸»ç¨‹å¼ï¼ŒWebSocket ä¼ºæœå™¨
â”‚   â”‚       â””â”€â”€ network/
â”‚   â”‚           â”œâ”€â”€ stats.ts       # /proc/net/dev è§£æ
â”‚   â”‚           â”œâ”€â”€ process.ts     # /proc/{pid}/fd æ˜ å°„
â”‚   â”‚           â””â”€â”€ nethogs.ts     # nethogs å­ç¨‹åºç®¡ç†
â”‚   â”‚
â”‚   â””â”€â”€ web/             # å‰ç«¯ (React + Vite)
â”‚       â””â”€â”€ src/
â”‚           â”œâ”€â”€ App.tsx
â”‚           â”œâ”€â”€ components/
â”‚           â”‚   â”œâ”€â”€ NetworkChart.tsx
â”‚           â”‚   â”œâ”€â”€ InterfaceSelector.tsx
â”‚           â”‚   â”œâ”€â”€ ProcessList.tsx
â”‚           â”‚   â””â”€â”€ BandwidthList.tsx
â”‚           â””â”€â”€ hooks/
â”‚               â””â”€â”€ useNetworkStats.ts
â”‚
â”œâ”€â”€ start.sh             # ä¸€éµå•Ÿå‹•è…³æœ¬
â””â”€â”€ package.json         # å·¥ä½œå€é…ç½®
```

### è³‡æ–™æµ

```
/proc/net/dev â”€â”€â”€â”€â”€â”
/proc/{pid}/fd â”€â”€â”€â”€â”¼â”€â”€â–º Bun Server â”€â”€â–º WebSocket â”€â”€â–º React App
nethogs (sudo) â”€â”€â”€â”€â”˜        :3000              :5173
```

### æŠ€è¡“æ£§

| å±¤ç´š | æŠ€è¡“ |
|------|------|
| Runtime | Bun |
| Backend | Elysia (WebSocket) |
| Frontend | React 19 + Vite 7 |
| UI | shadcn/ui + Tailwind CSS |
| Charts | Recharts |

---

## API åƒè€ƒ

### REST Endpoints

| Method | Path | èªªæ˜ |
|--------|------|------|
| GET | `/` | ä¼ºæœå™¨è³‡è¨Š |
| GET | `/api/interfaces` | ä»‹é¢åˆ—è¡¨ |
| GET | `/api/processes` | ç¨‹åºåˆ—è¡¨ |
| GET | `/api/bandwidth` | æµé‡è³‡æ–™ |
| POST | `/api/refresh` | é‡æ–°è¼‰å…¥å¿«å– |

### WebSocket

é€£æ¥åˆ° `ws://localhost:3000/ws`

**æ¥æ”¶æ ¼å¼**:
```json
{
  "interfaces": [...],
  "processes": [...],
  "bandwidth": [...],
  "bandwidthEnabled": true,
  "timestamp": 1702700000000
}
```

**ç™¼é€æŒ‡ä»¤**:
- `ping` - å¿ƒè·³æª¢æ¸¬
- `refresh` - é‡æ–°è¼‰å…¥ä»‹é¢è©³æƒ…

---

## ğŸ”§ é–‹ç™¼

```bash
# é–‹ç™¼æ¨¡å¼ (hot reload)
bun run dev

# åˆ†åˆ¥å•Ÿå‹•
bun run dev:server  # å¾Œç«¯
bun run dev:web     # å‰ç«¯

# å»ºç½®
bun run build
```

---

## æ›´æ–°æ—¥èªŒ

### v2.3.0 (2024-12-16)
- âœ¨ **Sparkline åœ–è¡¨** - æ¯å€‹ç¨‹åºæµé‡é …ç›®å³ä¸‹è§’æ–°å¢è¿·ä½ æŠ˜ç·šåœ–
- ğŸ“Š **æµé‡æ­·å²è¿½è¹¤** - è¿½è¹¤æ¯å€‹ PID æœ€è¿‘ 30 å€‹æ•¸æ“šé»

### v2.2.1 (2024-12-16)
- ğŸ”§ **StrictMode ä¿®å¾©** - é—œé–‰ React StrictMode è§£æ±ºé–‹ç™¼æ¨¡å¼ä¸‹ WebSocket é€£ç·šå•é¡Œ
- ğŸ”§ **ç‰ˆæœ¬è™Ÿè‡ªå‹•åŒ–** - Server ç‰ˆæœ¬è™Ÿå¾ package.json è®€å–

### v2.2.0 (2024-12-16)
- ğŸ”§ **WebSocket å„ªåŒ–** - ä¿®å¾©é€£ç·šæ´©æ¼å•é¡Œï¼Œæ¯å€‹åˆ†é åªå»ºç«‹ä¸€å€‹é€£ç·š
- ğŸ”§ **Lint ä¿®å¾©** - ä¿®å¾©æ‰€æœ‰ ESLint éŒ¯èª¤ï¼ˆæœªä½¿ç”¨è®Šæ•¸ã€é¡å‹éŒ¯èª¤ç­‰ï¼‰
- ğŸ”§ **åœ–è¡¨æ™‚é–“è»¸** - æ”¹ç”¨ç›¸å°æ™‚é–“é¡¯ç¤ºï¼ˆ-60s ~ 0sï¼‰

### v2.1.0 (2024-12-16)
-  **Nethogs æ•´åˆ** - å³æ™‚ per-process æµé‡ç›£æ§ (éœ€ root)
-  **éŸ¿æ‡‰å¼è¨­è¨ˆ** - ä¿®å¾©æ‰‹æ©Ÿä»‹é¢æº¢å‡ºå•é¡Œ
-  **Console å„ªåŒ–** - æ¸›å°‘æ—¥èªŒåˆ·å±ï¼Œæ¯ 30 ç§’çµ±è¨ˆä¸€æ¬¡
-  **ä¸€éµå•Ÿå‹•è…³æœ¬** - `./start.sh` äº’å‹•å¼é¸å–®

### v2.0.0
-  **ç¨‹åºç›£æ§** - é¡¯ç¤ºæ¯å€‹ç¨‹åºçš„ TCP/UDP é€£ç·šæ•¸
-  **Socket è©³æƒ…** - å±•é–‹æŸ¥çœ‹å®Œæ•´é€£ç·šåˆ—è¡¨
-  **æ¨™ç±¤é å°èˆª** - Interfaces / Processes / Bandwidth

### v1.0.0
-  **åŸºç¤åŠŸèƒ½** - ç¶²è·¯ä»‹é¢å³æ™‚æµé‡ç›£æ§
-  **è¨­å®šé é¢** - è‡ªè¨‚æ›´æ–°é »ç‡ã€åœ–è¡¨é•·åº¦
-  **æš—è‰²ä¸»é¡Œ** - ç¾ä»£åŒ– UI è¨­è¨ˆ

---

## License

MIT License - è©³è¦‹ [LICENSE](LICENSE)

---

<div align="center">
Made with ğŸ³ by nlcat
</div>
